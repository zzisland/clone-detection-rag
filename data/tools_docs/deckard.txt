Deckard克隆检测工具使用指南

Deckard是一个基于结构化索引的代码克隆检测工具，使用树结构进行高效匹配。

特点：
- 高效：基于结构化索引的快速匹配
- 多语言：支持C、C++、Java、Python等
- 精确：支持Type-1、Type-2、Type-3克隆检测
- 可扩展：支持自定义语言扩展

安装步骤：
1. 下载Deckard源代码
2. 安装依赖库（ANTLR、Boost等）
3. 编译源代码
4. 配置环境变量

基本语法：
deckard [选项] 源代码目录

主要选项：
- -l：指定编程语言
- -t：设置相似度阈值
- -o：指定输出文件
- -f：输出格式（xml/json）
- -s：支持的结构类型
- -m：最大克隆大小

语言支持：
- c：C语言
- cpp：C++语言
- java：Java语言
- python：Python语言
- javascript：JavaScript语言

使用示例：
1. 检测Java代码克隆：
deckard -l java -t 0.8 -o result.xml src/

2. 设置高精度检测：
deckard -l java -t 0.9 -s ast src/

3. 输出JSON格式：
deckard -l java -f json -o result.json src/

结构类型：
- ast：抽象语法树
- cfg：控制流图
- pdg：程序依赖图
- cdfG：控制数据流图

阈值设置建议：
- Type-1：0.95-1.0
- Type-2：0.85-0.95
- Type-3：0.70-0.85

性能调优：
1. 选择合适的结构类型
2. 设置合适的阈值
3. 限制最大克隆大小
4. 使用多线程处理

限制：
- 对大型项目内存消耗较大
- 配置相对复杂
- 某些语言支持有限

适用场景：
1. 学术研究：克隆检测算法研究
2. 代码审查：发现相似代码片段
3. 重构支持：识别重构机会
4. 质量分析：代码重复度分析

与其他工具比较：
- vs CCFinder：支持更多克隆类型，但性能较低
- vs NiCad：配置更灵活，但学习成本高
- vs SourcererCC：精度相似，但Deckard更学术化

高级功能：
1. 自定义语言支持
2. 插件机制扩展
3. 可视化结果展示
4. 批量处理模式

最佳实践：
1. 根据项目特点选择结构类型
2. 从高阈值开始逐步调整
3. 结合多种结构类型提高检测率
4. 定期更新语言解析器
